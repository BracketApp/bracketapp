{
    "__props__": {
        "id": "H1P7w2s4D1c7s0G5y6j3E8O717",
        "doc": "createFlightBooking",
        "counter": 1,
        "creationDate": 1724170563877,
        "collection": "view.schema.manager",
        "chunk": "chunk1",
        "lastModified": 1725449970059,
        "dev": false,
        "actions": {},
        "comments": [
            {
                "note": "filter",
                "path": [
                    "header",
                    "views",
                    0
                ]
            },
            {
                "note": "print",
                "path": [
                    "header",
                    "views",
                    1
                ]
            },
            {
                "note": "import",
                "path": [
                    "header",
                    "views",
                    2
                ]
            },
            {
                "note": "export",
                "path": [
                    "header",
                    "views",
                    3
                ]
            },
            {
                "note": "create",
                "path": [
                    "header",
                    "views",
                    4
                ]
            },
            {
                "note": "Round trip",
                "path": [
                    "navbar",
                    "views",
                    0
                ]
            },
            {
                "note": "One way",
                "path": [
                    "navbar",
                    "views",
                    1
                ]
            },
            {
                "note": "Multi city",
                "path": [
                    "navbar",
                    "views",
                    2
                ]
            },
            {
                "note": "Open return",
                "path": [
                    "navbar",
                    "views",
                    3
                ]
            },
            {
                "note": "ind/grp pax direct",
                "path": [
                    "navbar",
                    "views",
                    4
                ]
            },
            {
                "note": "ind/grp",
                "path": [
                    "navbar",
                    "views",
                    4,
                    "views",
                    0
                ]
            },
            {
                "note": "pax",
                "path": [
                    "navbar",
                    "views",
                    4,
                    "views",
                    1
                ]
            },
            {
                "note": "diagram",
                "path": [
                    "navbar",
                    "views",
                    4,
                    "views",
                    1,
                    "views",
                    0
                ]
            },
            {
                "note": "pax",
                "path": [
                    "navbar",
                    "views",
                    4,
                    "views",
                    1,
                    "views",
                    1
                ]
            },
            {
                "note": "direct flights",
                "path": [
                    "navbar",
                    "views",
                    4,
                    "views",
                    2
                ]
            },
            {
                "note": "from",
                "path": [
                    "search",
                    "views",
                    0
                ]
            },
            {
                "note": "swap",
                "path": [
                    "search",
                    "views",
                    1
                ]
            },
            {
                "note": "to",
                "path": [
                    "search",
                    "views",
                    2
                ]
            },
            {
                "note": "travel date",
                "path": [
                    "search",
                    "views",
                    3
                ]
            },
            {
                "note": "return date",
                "path": [
                    "search",
                    "views",
                    4
                ]
            },
            {
                "note": "duration",
                "path": [
                    "search",
                    "views",
                    5
                ]
            },
            {
                "note": "class",
                "path": [
                    "search",
                    "views",
                    6
                ]
            },
            {
                "note": "plus minus",
                "path": [
                    "search",
                    "views",
                    7
                ]
            },
            {
                "note": "minus",
                "path": [
                    "search",
                    "views",
                    7,
                    "views",
                    0
                ]
            },
            {
                "note": "plus",
                "path": [
                    "search",
                    "views",
                    7,
                    "views",
                    1
                ]
            }
        ],
        "collapsed": [
            {
                "path": [
                    "header"
                ]
            },
            {
                "path": [
                    "header",
                    "container"
                ]
            },
            {
                "path": [
                    "header",
                    "views",
                    0
                ]
            },
            {
                "path": [
                    "header",
                    "views",
                    1
                ]
            },
            {
                "path": [
                    "header",
                    "views",
                    2
                ]
            },
            {
                "path": [
                    "header",
                    "views",
                    3
                ]
            },
            {
                "path": [
                    "header",
                    "views",
                    4
                ]
            },
            {
                "path": [
                    "navbar"
                ]
            },
            {
                "path": [
                    "navbar",
                    "tab"
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    0
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    1
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    2
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    3
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    4
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    4,
                    "container"
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    4,
                    "views",
                    0
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    4,
                    "views",
                    1
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    4,
                    "views",
                    1,
                    "views",
                    1
                ]
            },
            {
                "path": [
                    "navbar",
                    "views",
                    4,
                    "views",
                    2
                ]
            },
            {
                "path": [
                    "search"
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    0
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    1
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    2
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    3
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    3,
                    "label"
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    4
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    5
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    6
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    7
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    7,
                    "container"
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    7,
                    "views",
                    0
                ]
            },
            {
                "path": [
                    "search",
                    "views",
                    7,
                    "views",
                    1
                ]
            }
        ],
        "arrange": {
            "": [
                "form",
                "actions",
                "header",
                "navbar",
                "search"
            ],
            "header": [
                "title",
                "style",
                "container",
                "views"
            ],
            "header.container": [
                "style",
                "actions",
                "class"
            ],
            "header.views.0": [
                "icon",
                "type",
                "tooltip",
                "actions",
                "container"
            ],
            "header.views.1": [
                "icon",
                "tooltip",
                "type",
                "container",
                "actions"
            ],
            "header.views.2": [
                "type",
                "icon",
                "tooltip",
                "container",
                "actions"
            ],
            "header.views.3": [
                "type",
                "icon",
                "tooltip",
                "container",
                "actions"
            ],
            "header.views.4": [
                "type",
                "icon",
                "tooltip",
                "container",
                "actions"
            ],
            "navbar": [
                "class",
                "style",
                "tab",
                "views"
            ],
            "navbar.tab": [
                "actions",
                "class",
                "style"
            ],
            "navbar.views.0": [
                "container",
                "schema",
                "style",
                "text",
                "type"
            ],
            "navbar.views.1": [
                "container",
                "schema",
                "style",
                "text",
                "type"
            ],
            "navbar.views.2": [
                "container",
                "schema",
                "style",
                "text",
                "type"
            ],
            "navbar.views.3": [
                "container",
                "schema",
                "style",
                "text",
                "type"
            ],
            "navbar.views.4": [
                "type",
                "container",
                "class",
                "style",
                "views"
            ],
            "navbar.views.4.container": [
                "style"
            ],
            "navbar.views.4.views.0": [
                "type",
                "droplist",
                "text",
                "style",
                "class",
                "path",
                "actions",
                "inputContainer"
            ],
            "navbar.views.4.views.0.inputContainer": [
                "class",
                "style"
            ],
            "navbar.views.4.views.1": [
                "type",
                "style",
                "views"
            ],
            "navbar.views.4.views.1.views.0": [
                "container",
                "icon",
                "style",
                "type"
            ],
            "navbar.views.4.views.1.views.0.container": [
                "actions",
                "class",
                "style"
            ],
            "navbar.views.4.views.1.views.1": [
                "actions",
                "inputContainer",
                "label",
                "mainContainer",
                "path",
                "style",
                "text",
                "type"
            ],
            "navbar.views.4.views.1.views.1.inputContainer": [
                "style"
            ],
            "navbar.views.4.views.1.views.1.label": [
                "style",
                "text"
            ],
            "navbar.views.4.views.1.views.1.mainContainer": [
                "style"
            ],
            "navbar.views.4.views.2": [
                "type",
                "path",
                "style",
                "label"
            ],
            "navbar.views.4.views.2.label": [
                "text",
                "style"
            ],
            "search": [
                "style",
                "views"
            ],
            "search.views.0": [
                "actions",
                "label",
                "path",
                "style",
                "type"
            ],
            "search.views.0.label": [
                "style",
                "text"
            ],
            "search.views.1": [
                "actions",
                "container",
                "google",
                "icon",
                "style",
                "type"
            ],
            "search.views.1.container": [
                "class",
                "style"
            ],
            "search.views.2": [
                "actions",
                "label",
                "path",
                "style",
                "type"
            ],
            "search.views.2.label": [
                "style",
                "text"
            ],
            "search.views.3": [
                "actions",
                "clearable",
                "inputType",
                "label",
                "min",
                "path",
                "style",
                "text",
                "type"
            ],
            "search.views.3.label": [
                "style",
                "text"
            ],
            "search.views.4": [
                "actions",
                "clearable",
                "conditions",
                "inputType",
                "label",
                "min",
                "path",
                "style",
                "text",
                "type"
            ],
            "search.views.4.label": [
                "style",
                "text"
            ],
            "search.views.5": [
                "actions",
                "conditions",
                "droplist",
                "label",
                "path",
                "readonly",
                "style",
                "text",
                "type"
            ],
            "search.views.5.label": [
                "style",
                "text"
            ],
            "search.views.6": [
                "data",
                "droplist",
                "label",
                "path",
                "readonly",
                "style",
                "type"
            ],
            "search.views.6.label": [
                "style",
                "text"
            ],
            "search.views.7": [
                "class",
                "conditions",
                "container",
                "style",
                "type",
                "views"
            ],
            "search.views.7.container": [
                "class",
                "style"
            ],
            "search.views.7.views.0": [
                "actions",
                "container",
                "google",
                "icon",
                "style",
                "type"
            ],
            "search.views.7.views.0.container": [
                "class",
                "style"
            ],
            "search.views.7.views.1": [
                "actions",
                "container",
                "google",
                "icon",
                "style",
                "type"
            ],
            "search.views.7.views.1.container": [
                "class",
                "style"
            ]
        },
        "secured": false,
        "size": 12428
    },
    "form": "searchEngine",
    "header": {
        "title": "Create Flight Booking",
        "views": [
            {
                "icon": "filter_alt",
                "tooltip": "filter",
                "type": "icon",
                "container": "__.container",
                "actions": "style:[fontSize=2rem];google;[click?openFilter()]"
            },
            {
                "icon": "print",
                "tooltip": "print",
                "type": "icon",
                "container": "__.container",
                "actions": "style:[fontSize=2rem];google;[click?openFilter()]"
            },
            {
                "icon": "download",
                "tooltip": "import",
                "type": "icon",
                "container": "__.container",
                "actions": "style:[fontSize=2rem];google;[click?openFilter()]"
            },
            {
                "icon": "upload",
                "tooltip": "export",
                "type": "icon",
                "container": "__.container",
                "actions": "style:[fontSize=2rem];google;[click?openFilter()]"
            },
            {
                "icon": "add",
                "tooltip": "create",
                "type": "icon",
                "container": "__.container",
                "actions": "style:[fontSize=2rem];google;[click?openFilter()]"
            }
        ],
        "container": {
            "style": "height=3.5rem;width=3.5rem;border=1px solid #ddd;borderRadius=.8rem;cursor=pointer;transition=.2s",
            "actions": "hover.style.backgroundColor=#f6f6f6;[click?[[_.action]]]",
            "class": "flexbox"
        },
        "style": "display=flex;gap=.75rem"
    },
    "navbar": {
        "tab": {
            "style": "padding=.5rem 1.5rem;borderRadius=.4rem;cursor=pointer;transition=.2s;[backgroundColor=#fb3b1e?data().trip=_.text]",
            "actions": "[click?openManager()]",
            "class": "flexbox"
        },
        "views": [
            {
                "text": "Round trip",
                "schema": "createFlightBooking",
                "type": "text",
                "style": "fontSize=1.2rem;color=#fb3b1e;[color=#fff?data().trip=txt()]",
                "container": "__.tab"
            },
            {
                "text": "One way",
                "schema": "createFlightBooking",
                "type": "text",
                "style": "fontSize=1.2rem;color=#fb3b1e;[color=#fff?data().trip=txt()]",
                "container": "__.tab"
            },
            {
                "text": "Multi city",
                "schema": "createFlightBooking",
                "type": "text",
                "style": "fontSize=1.2rem;color=#fb3b1e;[color=#fff?data().trip=txt()]",
                "container": "__.tab"
            },
            {
                "text": "Open return",
                "schema": "createFlightBooking",
                "type": "text",
                "style": "fontSize=1.2rem;color=#fb3b1e;[color=#fff?data().trip=txt()]",
                "container": "__.tab"
            },
            {
                "type": "view",
                "views": [
                    {
                        "type": "input",
                        "droplist": "items=:Individual:Group",
                        "text": "Individual",
                        "style": "width=9rem;color=red;fontSize=1.2rem",
                        "class": "pointer",
                        "inputContainer": {
                            "class": "flexbox pointer",
                            "style": "border=0;backgroundColor=#00000000"
                        },
                        "path": "groupType",
                        "actions": "[click:droplist?[form().pax.():[adt=2;chd=0;inf=0]?clicked().txt()=Individual];3rdParent().next().refresh();closePopup()]"
                    },
                    {
                        "type": "view",
                        "views": [
                            {
                                "style": "fontSize=1.3rem;color=#fb3b1e;transition=.2s",
                                "type": "icon",
                                "icon": "bi-diagram-3",
                                "container": {
                                    "style": "minHeight=3rem;width=2.5rem;border=1px solid #aaa;borderRadius=.5rem;backgroundColor=#fff;transition=.2s",
                                    "class": "flexbox pointer",
                                    "actions": "[click?diagramBtnHandler()]"
                                }
                            },
                            {
                                "type": "input",
                                "label": {
                                    "text": "Pax",
                                    "style": "color=red;fontSize=1.2rem"
                                },
                                "style": "fontSize=1.3rem;color=red;[cursor=pointer?form().groupType=Individual]",
                                "inputContainer": {
                                    "style": "border=1px solid #aaa;height=3rem;width=4rem"
                                },
                                "mainContainer": {
                                    "style": "flexDirection=row-reverse;gap=1rem"
                                },
                                "actions": "preventDefault;[readonly=true;droplist=[align=left;preventDefault;items=:1:2:3:4:5:6:7:8:9]?form().groupType=Individual];[mouseup:droplist;change?txt()=clicked().txt();data().chd=[data().chd?txt()>data().chd||data().chd=0?data().chd-[data().chd-txt()]?data().chd>0];data().adt=clicked().txt()+0-data().chd;data().inf=0;closePopup()]",
                                "path": "pax",
                                "text": "data().adt+data().chd"
                            }
                        ],
                        "style": "display=flex;gap=.5rem"
                    },
                    {
                        "type": "checkbox",
                        "path": "directFlights",
                        "label": {
                            "text": "Direct flights",
                            "style": "color=red;fontSize=1.2rem"
                        },
                        "style": "color=red"
                    }
                ],
                "class": "flexbox",
                "container": {
                    "style": "marginLeft=auto"
                },
                "style": "gap=1.5rem"
            }
        ],
        "class": "flex align-center",
        "style": "padding=1rem;width=100%"
    },
    "search": {
        "style": "gap=.5rem;display=grid;width=100%;gridTemplateColumns=[25rem 4rem 25rem 15rem 15rem 10rem 10rem 2fr?form().trip=Round trip?25rem 4rem 25rem 15rem 10rem 2fr 2fr?form().trip=Multi city?25rem 4rem 25rem 15rem 10rem 2fr]",
        "views": [
            {
                "label": {
                    "text": "From",
                    "style": "fontSize=1.3rem"
                },
                "path": "from",
                "style": "fontSize=1.3rem;height=3.5rem;width=100%",
                "type": "input",
                "actions": "clearable=true"
            },
            {
                "actions": "[click?from=data().from;data().from=data().to;data().to=.from;parent().():[prev().refresh();next().refresh()]]",
                "type": "icon",
                "icon": "swap_horiz",
                "google": true,
                "container": {
                    "class": "flexbox pointer",
                    "style": "paddingBottom=.85rem"
                },
                "style": "color=#888;marginTop=auto;fontSize=2rem"
            },
            {
                "label": {
                    "text": "To",
                    "style": "fontSize=1.3rem"
                },
                "path": "to",
                "style": "fontSize=1.3rem;height=3.5rem;width=100%",
                "type": "input",
                "actions": "clearable=true"
            },
            {
                "actions": "data()=todayStart().timestamp()+259200000;[change?data()=data().timestamp();2ndParent().data().returnDate=data()+2ndParent().data().duration;3rdParent().next().refresh()?data()]",
                "type": "input",
                "inputType": "date",
                "label": {
                    "text": "Travel Date",
                    "style": "fontSize=1.3rem"
                },
                "style": "fontSize=1.3rem;height=3.5rem;width=100%;paddingRight=.5rem",
                "path": "travelDate",
                "text": "data().toDateInputFormat()",
                "clearable": true,
                "min": "now().timestamp().toDateInputFormat()"
            },
            {
                "actions": "data()=[data()||2ndParent().data().travelDate+604800000];[change?data()=data().timestamp()]",
                "type": "input",
                "inputType": "date",
                "label": {
                    "text": "Return Date",
                    "style": "fontSize=1.3rem"
                },
                "style": "fontSize=1.3rem;height=3.5rem;width=100%;paddingRight=.5rem",
                "clearable": true,
                "path": "returnDate",
                "conditions": "form().trip=Round trip",
                "text": "data().toDateInputFormat()",
                "min": "now().timestamp().toDateInputFormat()"
            },
            {
                "label": {
                    "text": "Duration",
                    "style": "fontSize=1.3rem"
                },
                "type": "input",
                "path": "duration",
                "conditions": "form().trip=Round trip",
                "style": "fontSize=1.3rem;width=100%;height=3.5rem",
                "droplist": "align=left;items=:3 days:5 days:1 week:10 days:15 days:1 month",
                "actions": "data()=604800000;[click:droplist;[keyup??e().key=Enter]?@view.schema.manager.createFlightBooking;updateReturnDateByDuration()]",
                "readonly": true,
                "text": "1 week"
            },
            {
                "label": {
                    "text": "Cabin Class",
                    "style": "fontSize=1.3rem"
                },
                "type": "input",
                "path": "class",
                "style": "fontSize=1.3rem;width=100%;height=3.5rem",
                "droplist": "align=left;items=:Economy:Business:First Class",
                "readonly": true,
                "data": "Economy"
            },
            {
                "type": "view",
                "views": [
                    {
                        "actions": "hover.style.color=red;[click?nthParent():4.rem()?form().search.len()>1]",
                        "type": "icon",
                        "icon": "remove",
                        "google": true,
                        "container": {
                            "class": "flexbox pointer",
                            "style": "height=3rem;width=3rem;borderRadius=.5rem"
                        },
                        "style": "color=#888;fontSize=2rem;transition=.2s"
                    },
                    {
                        "type": "icon",
                        "icon": "add",
                        "google": true,
                        "container": {
                            "class": "flexbox pointer",
                            "style": "height=3rem;width=3rem;borderRadius=.5rem"
                        },
                        "style": "color=#888;fontSize=2rem;transition=.2s",
                        "actions": "hover.style.color=red;[click?nthParent():4.duplicate()]"
                    }
                ],
                "style": "gap=.5rem",
                "class": "flex",
                "container": {
                    "style": "marginBottom=.5rem;marginTop=auto;marginLeft=3rem",
                    "class": "flex"
                },
                "conditions": "form().trip=Multi city"
            }
        ]
    },
    "actions": "data()=[trip=Round trip;directFlights=true;groupType=Individual;pax=[adt=2;chd=0;inf=0];search=:[]]?!data().trip?data().search=data().search.slice():0:1;[data().search.():[duration.del();returnDate.del()]?data().trip!=Round trip]"
}